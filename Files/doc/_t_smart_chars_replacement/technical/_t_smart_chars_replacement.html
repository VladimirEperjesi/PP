<HTML xmlns:ver="http://www.ataccama.com/purity/version" xmlns:comm="http://www.ataccama.com/purity/comment">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<STYLE type="text/css">
				
				table.smpl {
						border-width: 0 0 1px 1px;
						border-spacing: 0;
						border-collapse: collapse;
						width: 90%;
				}

				table.outer {
						border-width: 1px 1px 1px 1px;
						border-spacing: 0;
						border-collapse: collapse;
						border-color: #0;
						border-style: solid;
				}
				
				table.smpl td
				{
					margin: 0;
					padding: 4px;
					border-width: 1px 1px 0 0;
				}
				
				table.smpl, table.smpl td
				{
					border-color: #0;
					border-style: solid;
				}
				
				pre.nonprop {
					font-family: Arial;
				}	
			
				
				.cell_hdr { background-color: #D0D0F0; font-weight: bold; font-family: Arial; font-size: 16px; }
				.cell_val { background-color: #F0F0F0; }
				.cell_extra_val { background-color: #F0F0F0;color: #A00000; }

				.cell_hdr_red { background-color: #D0E0F0; font-weight: bold; font-family: Arial; font-size: 16px; }
				
				
				.cell_line_hdr { background-color: #D0D0F0; font-weight: bold; font-family: Arial; font-size: 12px; }
				.cell_line_val {background-color: #F0F0F0; font-family: Arial; font-size: 12px; }
				
				 
				.cell_hdr_comment { background-color: #E0E0E0; font-weight: bold; font-family: Arial; font-size: 12px; }
				.cell_val_comment { background-color: #F0F0F0; color: #808080; font-weight: bold; font-family: Arial; font-size: 12px; }
				
				.table_90 { width: 90%; }
				
				li { font-family: arial; font-size: 13px; }
				
				H1 { font-family: Arial; font-size: 25px; }
				H2 { font-family: Arial; font-size: 20px; }
				H3 { font-family: Arial; font-size: 15px; }
			</STYLE>
<TITLE>Documentation of configuration file : _t_smart_chars_replacement.comp</TITLE>
</HEAD>
<BODY>
<table width="90%" class="outer">
<tr>
<td rowspan="3"><img src="images/logo_about.png"></td><td>
<H1>Configuration documentation</H1>
</td>
</tr>
<tr>
<td>
<H2>_t_smart_chars_replacement.comp</H2>
</td>
</tr>
<tr>
<td>
<table width="100%">
<tr>
<td class="cell_hdr">Generated by</td><td class="cell_val">Component Manager</td><td class="cell_hdr">Generation date</td><td class="cell_val">2014-03-27 13:39:18</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<div id="l_contents">
<H1>Contents</H1>
</div>
<ul>
<li>
<a href="#l_summary">Summary</a>
</li>
<li>
<a href="#l_screen">Configuration diagram</a>
</li>
<li>
<a href="#l_refs">References</a>
</li>
<li>
<a href="#l_algs">Algorithms</a>
</li>
</ul>
<br>
<table width="90%">
<tr>
<td>
<div id="l_summary">
<H2>Configuration summary</H2>
</div>
</td><td width="80"><a href="#l_contents">contents</a></td>
</tr>
</table>
<table class="table_90">
<tr>
<td class="cell_hdr">File name</td><td class="cell_val">_t_smart_chars_replacement.comp</td>
</tr>
<tr>

</tr>
<tr>

</tr>
<tr>
<td class="cell_hdr">Runtime (core) version</td><td class="cell_val">10.5.0.ga-2016-06-24</td>
</tr>
</table>
<br>
<table id="l_screen" width="90%">
<tr>
<td>
<H2>Configuration diagram</H2>
</td><td width="80"><a href="#l_contents">contents</a></td>
</tr>
</table>
<table class="smpl">
<tr>
<ul>
<td style="vertical-align: top"><b>Algorithm links</b>
<li>
<a href="#alg_in (Integration Input)">in (Integration Input)</a>
</li>
<li>
<a href="#alg_Add Columns (Alter Format)">Add Columns (Alter Format)</a>
</li>
<li>
<a href="#alg_Add internal columns (Alter Format)">Add internal columns (Alter Format)</a>
</li>
<li>
<a href="#alg_Integer overflow check (Column Assigner)">Integer overflow check (Column Assigner)</a>
</li>
<li>
<a href="#alg_Sequence and Order (Column Assigner)">Sequence and Order (Column Assigner)</a>
</li>
<li>
<a href="#alg_Replace chars (Column Assigner)">Replace chars (Column Assigner)</a>
</li>
<li>
<a href="#alg_Remove internal columns (Alter Format)">Remove internal columns (Alter Format)</a>
</li>
<li>
<a href="#alg_out (Integration Output)">out (Integration Output)</a>
</li>
</td>
</ul>
<td><img src="images/screen__t_smart_chars_replacement.comp.png" name="Configuration diagram"></td>
</tr>
</table>
<br>
<table id="l_refs" width="90%">
<tr>
<td>
<div>
<H2>Configuration references</H2>
</div>
</td><td width="80"><a href="#l_contents">contents</a></td>
</tr>
</table>
					Algorithm does not reference any other parts.
				<br>
<br>
<table id="l_algs" width="90%">
<tr>
<td>
<H2>Algorithm descriptions</H2>
</td><td width="80"><a href="#l_contents">contents</a></td>
</tr>
</table>
<div id="alg_in (Integration Input)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/InputStep.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">in (Integration Input)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.common.usersteps.io.InputStep</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columns</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">columnDef</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Any string with chars to be replaced</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">in_string<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnDef</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>String with replacing chars</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">in_replacement<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">shadowColumns</td><td class="cell_line_val">
<BR>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_Add Columns (Alter Format)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/AlterFormat.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">Add Columns (Alter Format)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.flow.AlterFormat</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumns</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>String with replaced chars</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">out_string<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">removedColumns</td><td class="cell_line_val">
<BR>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_Add internal columns (Alter Format)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/AlterFormat.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">Add internal columns (Alter Format)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.flow.AlterFormat</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Add internal columns</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumns</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>false</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_letters<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">BOOLEAN<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>false</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_digits<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">BOOLEAN<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>false</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_special_chars<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">BOOLEAN<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>''</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_defined_set<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Chars defined by params will get sequence number</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">tmp_char_sequence<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>From sequence, order will be calculated</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">tmp_order_and_char<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumn</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Usefull only in situation, when integer sequence would overflow because of too many records (hundrets of milions)</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">tmp_check_sequence_overflow<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">removedColumns</td><td class="cell_line_val">
<BR>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_Integer overflow check (Column Assigner)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/ColumnAssigner.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">Integer overflow check (Column Assigner)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.expressions.ColumnAssigner</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Integer overflow control.&#13;
&#13;
If overflow of the sequence is about to happen, we force it to overflow "between records" and not inside one record.</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">assignments</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">assignment</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>For too many records (hundreds of milions), integer overflow might happen.&#13;
We don't mind, if it happens bewteen records because sequence/order of chars in one string would be still correct. &#13;
However, when it overflows "inside" string processing, order wouldn't be calculated correctly.&#13;
Therefore, if the sequence is close to overflowing (its value plus lenght of comming string would overflow), we call it few times, so it will overflow and we can continue normally.</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">column</td><td class="cell_line_val">tmp_check_sequence_overflow<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>$long_sequence:=toLong(namedSequence('char_sequence', 0, 1)) + length(in_string);
$integer_sequence:=toInteger($long_sequence);

iif($long_sequence is not $integer_sequence, 									//if there would be overflow
		set.mapExp(substituteAll('(.)(?!$)', '$1☃', in_string), '☃', (x){
						toString(namedSequence('char_sequence', 0, 1))			//force it to overflow						
					}
		),
		''
	)

</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">scorer</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntries</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntry</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">explain</td><td class="cell_line_val">false<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">explainAs</td><td class="cell_line_val">CA_CHANGED<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">key</td><td class="cell_line_val">CA_CHANGED<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">score</td><td class="cell_line_val">0<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_Sequence and Order (Column Assigner)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/ColumnAssigner.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">Sequence and Order (Column Assigner)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.expressions.ColumnAssigner</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Chars defined by params will get sequence number

From sequence, order is calculated</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">assignments</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">assignment</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Chars defined by params will get sequence number. Separator between chars (with order) is snowman. Separator between order and char is skull.

E.g. for replacing digit only
input: a*1
output: a☃*☃2☠1</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">column</td><td class="cell_line_val">tmp_char_sequence<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>set.mapExp(substituteAll('(.)(?!$)', '$1☃', in_string), '☃', (x){
				iif(
					(par_digits and isNumber(x)) or								//digits should be replaced
					(par_letters and trashNonLetters(x) is not null) or			//letters should be replaced
					(par_special_chars and matches(@"\p{Punct}", x)) or 		//special chars should be replaced
					 indexOf(par_defined_set, x) is not null,					//chars in defined set should be replaced
					 toString(namedSequence('char_sequence', 0, 1)) + '☠' + x,	//add sequence before char
					 x
				)
									
			}
)</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">scorer</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntries</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntry</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">explain</td><td class="cell_line_val">false<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">explainAs</td><td class="cell_line_val">CA_CHANGED<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">key</td><td class="cell_line_val">CA_CHANGED<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">score</td><td class="cell_line_val">0<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">assignment</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>From sequence, order is calculated
E.g.
input: a☃*☃2☠1
output: a☃*☃0☠1</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">column</td><td class="cell_line_val">tmp_order_and_char<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>$sequences:=tmp_char_sequence;

function calculate_order(string x, string sequences){	
	toString(set.sumExp(sequences, '☃', (y) {
				//if char y in string has sequence and it is less than sequence of x, add one
				iif(indexOf(y, '☠') is not null and toInteger(word(y, 0, '☠'))&lt;toInteger(word(x, 0, '☠')), 1, 0)})
			)	
	+ '☠' + word(x, 1, '☠')
}

set.mapExp($sequences, '☃', (x){						//for every char
				iif(indexOf(x, '☠') is null, 			//if it has sequence generated
				x, 										//keep as it is
				calculate_order(x, $sequences))})		//else: calculate, how many defined chars are before it (by using sequence)
</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">scorer</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntries</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntry</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">explain</td><td class="cell_line_val">false<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">explainAs</td><td class="cell_line_val">CA_CHANGED<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">key</td><td class="cell_line_val">CA_CHANGED<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">score</td><td class="cell_line_val">0<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_Replace chars (Column Assigner)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/ColumnAssigner.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">Replace chars (Column Assigner)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.expressions.ColumnAssigner</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Replace chars having order with chars from replacing string</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">assignments</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">assignment</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Eg.
input: a☃*☃0☠1 and 9
output: a*9   (digit '1' is replaced with digit '9' )</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">column</td><td class="cell_line_val">out_string<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">expression</td><td class="cell_line_val">
<pre>$replacement:=substituteAll('(.)(?!$)', '$1☃', in_replacement);

replace(set.mapExp(tmp_order_and_char, '☃', (x){	//for every char
				iif(
					indexOf(x, '☠') is null,		//if it has not order
						x,							//keep as it is
						word($replacement, toInteger(word(x, 0, '☠')), '☃') /*else get its order and replace it with char
					 														   in replacing string on this position */
				)
									
			}
	)
, '☃', '')</pre>
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">scorer</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">scoringEntries</td><td class="cell_line_val">
<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_Remove internal columns (Alter Format)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/AlterFormat.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">Remove internal columns (Alter Format)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.flow.AlterFormat</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>Remove internal columns</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">addedColumns</td><td class="cell_line_val">
<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">removedColumns</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_letters<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_digits<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_special_chars<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">par_defined_set<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">tmp_char_sequence<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">tmp_order_and_char<BR>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">columnRef</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">tmp_check_sequence_overflow<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<br>
<div id="alg_out (Integration Output)"></div>
<table class="smpl">
<tr>
<td width="64" rowspan="2"><img src="images/OutputStep.large.png"></td><td class="cell_hdr_red">Algorithm</td><td class="cell_val">out (Integration Output)</td><td rowspan="2" width="80"><a href="#l_contents">contents</a>
<br>
<a href="#l_screen">alg. list</a></td>
</tr>
<tr>
<td class="cell_hdr_red">Class</td><td class="cell_val">com.ataccama.dqc.tasks.common.usersteps.io.OutputStep</td>
</tr>
</table>
<table width="90%">
<tr>
<td class="cell_hdr">Property</td><td class="cell_hdr">Description</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">requiredColumns</td><td class="cell_line_val">
<table>
<tr>
<td width="150" class="cell_line_hdr">requiredColumn</td><td class="cell_line_val">
<table>
<tr>
<td class="cell_hdr_comment"></td><td class="cell_val_comment">
<pre>String with replaced chars</pre>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">name</td><td class="cell_line_val">out_string<BR>
</td>
</tr>
<tr>
<td width="150" class="cell_line_hdr">type</td><td class="cell_line_val">STRING<BR>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
</table>
<br>
<br>
</BODY>
</HTML>
