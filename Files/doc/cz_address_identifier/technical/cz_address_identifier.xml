<?xml version='1.0' encoding='utf-8'?>
<configDoc screen="images/screen_cz_address_identifier.comp.png" cfgFilePath="D:/Documents/Solution_components/workspace_10.x.x/Component_manager/component/cz_address_identifier.comp" runtimeVersion="10.4.0.ga-2016-03-30" companyImage="images/logo_about.png" fileName="cz_address_identifier.comp" date="2016-05-12 16:07:15" xmlns:comm="http://www.ataccama.com/purity/comment" version="1.0">
  <generatorMeta name="Data Quality Center 10.4.0" company="Ataccama Corporation" about="{4}

Version: {1}

Copyright © 2002-{2} Ataccama Corporation. All rights reserved.

Your use of the product is subject to the {4} end user license agreement." date="2016-05-12 16:07:30"/>
  <configAlg name="in (Integration Input)" image="images/InputStep.large.png" class="com.ataccama.dqc.tasks.common.usersteps.io.InputStep">
    <properties>
      <columns>
        <columnDef name="in_address_line_1" type="STRING">
          <comm:comment>Input first address line: street or city district or city part followed by a number or a combination of numbers (lrn, sn, evn)</comm:comment>
        </columnDef>
        <columnDef name="in_address_line_2" type="STRING">
          <comm:comment>Input second address line: city or city district or city part or post office or a combination of these</comm:comment>
        </columnDef>
        <columnDef name="in_address_line_3" type="STRING">
          <comm:comment>Input third address line: postal code</comm:comment>
        </columnDef>
      </columns>
      <shadowColumns/>
    </properties>
  </configAlg>
  <configAlg name="Add Columns (Alter Format)" image="images/AlterFormat.large.png" class="com.ataccama.dqc.tasks.flow.AlterFormat">
    <properties>
      <addedColumns>
        <addedColumn name="out_address_line_1" type="STRING">
          <comm:comment>Best existing value of the first address line. For identified addresses it includes street or city district or city part followed by a number or a combination of numbers (lrn, sn, evn). For unidentified addresses it is a copy of the input first address line.</comm:comment>
        </addedColumn>
        <addedColumn name="out_address_line_2" type="STRING">
          <comm:comment>Best existing value of the second address line. For identified addresses it includes city or city district or city part or a combination of these followed by a number (if applicable). For unidentified addresses it is a copy of the input first address line.</comm:comment>
        </addedColumn>
        <addedColumn name="out_address_line_3" type="STRING">
          <comm:comment>Best existing value of the third address line. For identified addresses it includes postal code and post office. For unidentified addresses it is a copy of the input first address line.</comm:comment>
        </addedColumn>
        <addedColumn name="std_address_code" type="STRING">
          <comm:comment>Standardized adress code (in Czech &quot;adresní kód&quot;).</comm:comment>
        </addedColumn>
        <addedColumn name="std_zip" type="STRING">
          <comm:comment>Standardized zip code (in Czech &quot;PSČ&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_city" type="STRING">
          <comm:comment>Standardized city (in Czech &quot;město&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_city_district" type="STRING">
          <comm:comment>Standardized city district (in Czech &quot;část obce&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_city_part" type="STRING">
          <comm:comment>Standardized city part (in Czech &quot;městská část&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_street" type="STRING">
          <comm:comment>Standardized street (in Czech &quot;ulice&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_lrn" type="STRING">
          <comm:comment>Standardized land registry number (in Czech &quot;popisné číslo&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_sn" type="STRING">
          <comm:comment>Standardized street number (in Czech &quot;orientační číslo&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_evn" type="STRING">
          <comm:comment>Standardized evidentiary number (in Czech &quot;evidenční číslo&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_district" type="STRING">
          <comm:comment>Standardized district (in Czech &quot;okres&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_post_office" type="STRING">
          <comm:comment>Standardized post office (in Czech &quot;pošta&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="std_region" type="STRING">
          <comm:comment>Standardized region (in Czech &quot;kraj&quot;)</comm:comment>
        </addedColumn>
        <addedColumn name="sco_address" type="INTEGER">
          <comm:comment>Data quality score of address</comm:comment>
        </addedColumn>
        <addedColumn name="exp_address" type="STRING">
          <comm:comment>Explanation codes of data quality problems in address</comm:comment>
        </addedColumn>
        <addedColumn name="lbl_address" type="STRING">
          <comm:comment>Output value of address validity label. Indicates whether the address is valid, corrected or unknown.</comm:comment>
        </addedColumn>
        <addedColumn name="pat_address" type="STRING">
          <comm:comment>Pattern of parsed address</comm:comment>
        </addedColumn>
      </addedColumns>
      <removedColumns/>
    </properties>
  </configAlg>
  <configAlg name="Add internal columns (Alter Format)" image="images/AlterFormat.large.png" class="com.ataccama.dqc.tasks.flow.AlterFormat">
    <properties>
      <addedColumns>
        <addedColumn name="pur_street" type="STRING">
          <comm:comment>Pattern of parsed zip</comm:comment>
        </addedColumn>
        <addedColumn name="pur_city" type="STRING">
          <comm:comment>Cleansed and normalized city</comm:comment>
        </addedColumn>
        <addedColumn name="pur_zip" type="STRING">
          <comm:comment>Cleansed and normalized zip</comm:comment>
        </addedColumn>
        <addedColumn name="tmp_sco_address" type="INTEGER"/>
        <addedColumn name="tmp_exp_address" type="STRING"/>
        <addedColumn name="tmp_street" type="STRING"/>
        <addedColumn name="tmp_city" type="STRING"/>
        <addedColumn name="use_extended_patterns" type="BOOLEAN"/>
      </addedColumns>
      <removedColumns/>
      <comm:comment>Add internal columns</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Values mapping (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="in_address_line_1" column="pur_street">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
        <assignment expression="in_address_line_2" column="pur_city">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
        <assignment expression="in_address_line_3" column="pur_zip">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
      </assignments>
      <comm:comment>Initial mapping of input values for further pre-cleansing, validation, parsing.</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Address not empty (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="pur_city is not null or pur_street is not null">
      <comm:comment>At least city or street must be present.</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Score empty address (Simple Scoring)" image="images/SimpleScoring.large.png" class="com.ataccama.dqc.tasks.scoring.SimpleScoring">
    <properties defaultScoreColumn="sco_address" defaultExplainColumn="exp_address">
      <scoringCases>
        <scoringCase condition="true" description="Unknown value. Address delivery point was not identified as there is probably no address value in the input or major input values are missing." explanation="&#39;INSUFFICIENT_INPUT&#39;" score="10000000"/>
      </scoringCases>
      <comm:comment>Explain empty or unsufficient input.</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="ZIP not empty (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="pur_zip is not null"/>
  </configAlg>
  <configAlg name="ZIP cleansing and normalization (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="replace(pur_zip, &#39; &#39;, &#39;&#39;)" column="pur_zip">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>182 00 =&gt; 18200</comm:comment>
        </assignment>
        <assignment expression="trashNonDigits(pur_zip)" column="pur_zip">
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="ZIP_NONDIGITS_REMOVED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>XNA =&gt; null</comm:comment>
        </assignment>
        <assignment column="pur_zip">
          <expression>$hasDummyValue:=find(@&quot;(\d)\1{4}&quot;, pur_zip);

iif($hasDummyValue, null, pur_zip)</expression>
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="100" explainAs="ZIP_DUMMY_REMOVED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>11111 =&gt; null</comm:comment>
        </assignment>
      </assignments>
      <comm:comment>Initial ZIP standardization and cleansing</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Union all ZIP (Union Same)" image="images/UnionSame.large.png" class="com.ataccama.dqc.tasks.conditions.UnionSame">
    <properties/>
  </configAlg>
  <configAlg name="Street not empty (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="pur_street is not null"/>
  </configAlg>
  <configAlg name="Street cleansing and normalization (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="substituteAll(&quot;\\b[čc][. ]*[íi]*[. ]*[s]*[. ]*[p][. ]*[o]*[. ]*[p]*[. ]*(\\d)&quot;, &quot;$1&quot;, pur_street, true)" column="pur_street">
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="STREET_NUM_PREFIX_REMOVED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Removes typical &quot;č.p.&quot; from street value: Jitravská č.p. 2087 =&gt; Jitravská 2087</comm:comment>
        </assignment>
        <assignment expression="substituteAll(&quot;\\b[čc][. ]*[íi]*[. ]*[s]*[. ]*[o][. ]*[r]*[. ]*(\\d)&quot;, &quot;$1&quot;, pur_street, true)" column="pur_street">
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="STREET_NUM_PREFIX_REMOVED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Removes typical &quot;č.o.&quot; from street value: Jitravská č.o. 16 =&gt; Jitravská 16</comm:comment>
        </assignment>
        <assignment expression="iif(find(&quot;\\b[čc][. ]*ev?[. ]*(\\d)&quot;,  pur_street, true), substituteAll(&quot;\\b[čc][. ]*ev?[. ]*(\\d)&quot;, &quot;č.ev.$1&quot;, pur_street, true), pur_street)" column="pur_street">
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="0" explainAs="STREET_NUM_EVN_PREFIX_DETECTED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Standardizes &quot;č.ev.&quot; in street value:
Černý Důl č. ev. 58 =&gt; Černý Důl č.ev.58
Černý Důl č.e. 58 =&gt; Černý Důl č.ev.58
Černý Důl če 58 =&gt; Černý Důl č.ev.58
Černý Důl ce 58 =&gt; Černý Důl č.ev.58
Černý Důl cev 58 =&gt; Černý Důl č.ev.58</comm:comment>
        </assignment>
      </assignments>
      <comm:comment>Initial street line standardization and cleansing</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Street cleansing and normalization II (Matching Values)" image="images/MatchingValues.large.png" class="com.ataccama.dqc.tasks.clean.MatchingValues">
    <properties>
      <columns>
        <matchingColumn expression="pur_street" name="pur_street">
          <generator substituteWith=" " doRemoveRepeatedChars="false" doSqueezeWS="true" supportedCharacters="[:all:-,:]" doRemoveDia="false" doUpperCase="false"/>
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="STREET_SPECIAL_CHARS_REMOVED" explain="true" key="MV_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Special characters removal in order to fit predefined parsing rule in the first attempt of address parsing:
&quot;Těšínská 786, 34&quot; =&gt; &quot;Těšínská 786 34&quot;</comm:comment>
        </matchingColumn>
      </columns>
    </properties>
  </configAlg>
  <configAlg name="Union all street (Union Same)" image="images/UnionSame.large.png" class="com.ataccama.dqc.tasks.conditions.UnionSame">
    <properties/>
  </configAlg>
  <configAlg name="City not empty (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="pur_city is not null"/>
  </configAlg>
  <configAlg name="City cleansing and normalization (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="pur_city" column="pur_city">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
        </assignment>
        <assignment column="pur_city">
          <expression>iif(find(&quot;\\b[čc][. ]*[íi]*[. ]*[s]*[. ]*[p][. ]*[o]*[. ]*[p]*[. ]*(\\d)&quot;,  pur_city, true),
	substituteAll(&quot;\\b[čc][. ]*[íi]*[. ]*[s]*[. ]*[p][. ]*[o]*[. ]*[p]*[. ]*(\\d)&quot;, &quot;$1&quot;, pur_city, true),
	pur_city
)</expression>
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="CITY_NUM_PREFIX_REMOVED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Removes typical &quot;č.p.&quot; from city value: Pavlíkov č.p. 14 =&gt; Pavlíkov 14</comm:comment>
        </assignment>
        <assignment column="pur_city">
          <expression>iif(find(&quot;\\b[čc][. ]*[íi]*[. ]*[s]*[. ]*[o][. ]*[r]*[. ]*(\\d)&quot;,  pur_city, true),
	substituteAll(&quot;\\b[čc][. ]*[íi]*[. ]*[s]*[. ]*[o][. ]*[r]*[. ]*(\\d)&quot;, &quot;$1&quot;, pur_city, true),
	pur_city
)</expression>
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="CITY_NUM_PREFIX_REMOVED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Removes typical &quot;č.o.&quot; from city value: Pavlíkov č.o. 14 =&gt; Pavlíkov 14</comm:comment>
        </assignment>
        <assignment expression="iif(find(&quot;\\b[čc][. ]*ev?[. ]*(\\d)&quot;,  pur_city, true), substituteAll(&quot;\\b[čc][. ]*ev?[. ]*(\\d)&quot;, &quot;č.ev.$1&quot;, pur_city, true), pur_city)" column="pur_city">
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="0" explainAs="CITY_NUM_EVN_PREFIX_DETECTED" explain="true" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Standardizes &quot;č.ev.&quot; in city value:
Černý Důl č. ev. 58 =&gt; Černý Důl č.ev.58
Černý Důl č.e. 58 =&gt; Černý Důl č.ev.58
Černý Důl če 58 =&gt; Černý Důl č.ev.58
Černý Důl ce 58 =&gt; Černý Důl č.ev.58
Černý Důl cev 58 =&gt; Černý Důl č.ev.58</comm:comment>
        </assignment>
      </assignments>
      <comm:comment>Initial CITY line standardization and cleansing</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="City cleansing and normalization II (Matching Values)" image="images/MatchingValues.large.png" class="com.ataccama.dqc.tasks.clean.MatchingValues">
    <properties>
      <columns>
        <matchingColumn expression="pur_city" name="pur_city">
          <generator substituteWith=" " doRemoveRepeatedChars="false" doSqueezeWS="true" supportedCharacters="[:all:-,:]" doRemoveDia="false" doUpperCase="false"/>
          <scorer explanationColumn="exp_address" scoreColumn="sco_address">
            <scoringEntries>
              <scoringEntry score="10" explainAs="CITY_SPECIAL_CHARS_REMOVED" explain="true" key="MV_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>Special characters removal in order to fit predefined parsing rule in the first attempt of address parsing:
&quot;Opava, Předměstí&quot; =&gt; &quot;Opava Předměstí&quot;</comm:comment>
        </matchingColumn>
      </columns>
    </properties>
  </configAlg>
  <configAlg name="Union all city (Union Same)" image="images/UnionSame.large.png" class="com.ataccama.dqc.tasks.conditions.UnionSame">
    <properties/>
  </configAlg>
  <configAlg name="Parse address (UIR-ADR) (Address Identifier)" image="images/AddressIdentifier.large.png" class="com.ataccama.dqc.tasks.addresses.AddressIdentifier">
    <properties numApproxMatches="0" configFile="pathvar://DATA/ext/lkp/cz_address_identifier/address-cfg.xml" parserRuleName="pat_address" analyzedAddressLayout="{pur_zip} ;  {pur_city} ; {pur_street} ">
      <ambiguityScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL" explain="true" key="AI_AMBIG_CL"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL_CD" explain="true" key="AI_AMBIG_CL_CD"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL_ZCD" explain="true" key="AI_AMBIG_CL_ZCD"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CS_N" explain="true" key="AI_AMBIG_CS_N"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_SN_Q" explain="true" key="AI_AMBIG_SN_Q"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCD_L" explain="true" key="AI_AMBIG_ZCD_L"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCS_L" explain="true" key="AI_AMBIG_ZCS_L"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCS_N" explain="true" key="AI_AMBIG_ZCS_N"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZC_L" explain="true" key="AI_AMBIG_ZC_L"/>
        </scoringEntries>
      </ambiguityScorer>
      <attributeScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="0" explainAs="ADDR_AI_CD" explain="false" key="AI_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY" explain="false" key="AI_CITY"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_CD" explain="false" key="AI_CITY_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_CD_STREET" explain="false" key="AI_CITY_CD_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_LRN" explain="false" key="AI_CITY_LRN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_STREET" explain="false" key="AI_CITY_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_STREET_SN" explain="false" key="AI_CITY_STREET_SN"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_ID_MISMATCH" explain="true" key="AI_ID_MISMATCH"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN" explain="false" key="AI_LRN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_NOT_VERIFIED" explain="false" key="AI_NOT_VERIFIED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_NO_ADDRESS" explain="false" key="AI_NO_ADDRESS"/>
          <scoringEntry score="750000" explainAs="ADDR_AI_NO_ADDRESS_ID" explain="true" key="AI_NO_ADDRESS_ID"/>
          <scoringEntry score="5000000" explainAs="ADDR_AI_NO_PATTERN" explain="true" key="AI_NO_PATTERN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC" explain="false" key="AI_PC"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY" explain="false" key="AI_PC_CITY"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY_CD" explain="false" key="AI_PC_CITY_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY_STREET" explain="false" key="AI_PC_CITY_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_SN" explain="false" key="AI_SN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET" explain="false" key="AI_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_SN" explain="false" key="AI_STREET_SN"/>
          <scoringEntry score="100" explainAs="ADDR_AI_SWAP_LRN_SN" explain="true" key="AI_SWAP_LRN_SN"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_UNDECIDED_LRN_SN" explain="true" key="AI_UNDECIDED_LRN_SN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CD_SUFFIX" explain="false" key="AI_CD_SUFFIX"/>
          <scoringEntry score="0" explainAs="ADDR_AI_EVN" explain="true" key="AI_EVN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN_OR_EVN" explain="false" key="AI_LRN_OR_EVN"/>
        </scoringEntries>
      </attributeScorer>
      <outputComponents streetClean="std_street" localityPartClean="std_city_district" localityClean="std_city" landRegistryNumberClean="std_lrn" cityPartClean="std_city_part" streetNumberClean="std_sn" postOfficeClean="std_post_office" districtClean="std_district" addressId="std_address_code" regionClean="std_region" postalCodeClean="std_zip"/>
      <parserScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_RPL_FULL" explain="false" key="AI_CITY_PART_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_RPL_FULL" explain="false" key="AI_DISTRICT_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_RPL_PART" explain="false" key="AI_CITY_PART_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_RPL_PART" explain="false" key="AI_DISTRICT_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_RPL_FULL" explain="false" key="AI_LOCALITY_PART_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_RPL_PART" explain="false" key="AI_LOCALITY_PART_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_RPL_FULL" explain="false" key="AI_LOCALITY_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_RPL_PART" explain="false" key="AI_LOCALITY_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_RPL_FULL" explain="false" key="AI_POST_OFFICE_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_RPL_PART" explain="false" key="AI_POST_OFFICE_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_RPL_FULL" explain="false" key="AI_STREET_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_RPL_PART" explain="false" key="AI_STREET_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_RPL_FULL" explain="false" key="AI_ZIP_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_RPL_PART" explain="false" key="AI_ZIP_REPL_PART"/>
        </scoringEntries>
      </parserScorer>
      <scorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="1000" explainAs="ADDR_AI_DISTRICT_CHANGED" explain="true" key="AI_DISTRICT_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_NULL" explain="false" key="AI_DISTRICT_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_SET" explain="true" key="AI_DISTRICT_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_CITY_CHANGED" explain="true" key="AI_LOCALITY_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_NULL" explain="false" key="AI_LOCALITY_NULL"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_CITY_DISTRICT_CHANGED" explain="true" key="AI_LOCALITY_PART_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_NULL" explain="false" key="AI_LOCALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_SET" explain="true" key="AI_LOCALITY_PART_SET"/>
          <scoringEntry score="100" explainAs="ADDR_AI_CITY_SET" explain="true" key="AI_LOCALITY_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_LRN_CHANGED" explain="true" key="AI_LRN_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN_NULL" explain="false" key="AI_LRN_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_LRN_SET" explain="true" key="AI_LRN_SET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_CHANGED" explain="false" key="AI_MUNICIPALITY_PART_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_NULL" explain="false" key="AI_MUNICIPALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_SET" explain="false" key="AI_MUNICIPALITY_PART_SET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_CHANGED" explain="false" key="AI_POST_OFFICE_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_NULL" explain="false" key="AI_POST_OFFICE_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_SET" explain="false" key="AI_POST_OFFICE_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_SN_CHANGED" explain="true" key="AI_SN_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_SN_NULL" explain="false" key="AI_SN_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_SN_SET" explain="true" key="AI_SN_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_CHANGED" explain="true" key="AI_STREET_CHANGED"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_MISSING" explain="true" key="AI_STREET_MISSING"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_NULL" explain="false" key="AI_STREET_NULL"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_SET" explain="true" key="AI_STREET_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_SURPLUS" explain="true" key="AI_STREET_SURPLUS"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_ZIP_CHANGED" explain="true" key="AI_ZIP_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_NULL" explain="false" key="AI_ZIP_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_ZIP_SET" explain="true" key="AI_ZIP_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_LRN_TYPE_CHANGED" explain="true" key="AI_LRN_TYPE_CHANGED"/>
        </scoringEntries>
      </scorer>
      <comm:comment>First address identification using limited set of patterns - address-cfg.xml (most common patterns)</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Address not parsed (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="pat_address is null">
      <comm:comment>Address not parsed: probably there is a typo in input street or city value
Address parsed but not identified: probably there is an ambiguity in the combination of numbers and/or city+street etc. - we cannot do much better here..</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Reset tmp scoring (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="0" column="tmp_sco_address">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
        <assignment expression="null" column="tmp_exp_address">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
      </assignments>
      <comm:comment>reset temporary columns used for the next address identification</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Apply partial street replacements - street (Apply Replacements)" image="images/ApplyReplacementsAlgorithm.large.png" class="com.ataccama.dqc.tasks.clean.ApplyReplacementsAlgorithm">
    <properties replacementsFileName="pathvar://DATA/ext/lkp/cz_address_identifier/cz_address_id_street_partial.lkp" preserveUnsupportedChars="true" onlyFullReplacement="false" in="pur_street" out="pur_street">
      <scorer explanationColumn="exp_address" scoreColumn="sco_address">
        <scoringEntries>
          <scoringEntry score="10" explainAs="STREET_REPL_PART" explain="true" key="AR_CHANGED"/>
          <scoringEntry score="0" explainAs="AR_NULL" explain="false" key="AR_NULL"/>
          <scoringEntry score="0" explainAs="AR_MULTI" explain="false" key="AR_MULTI"/>
          <scoringEntry score="0" explainAs="AR_MORE" explain="false" key="AR_MORE"/>
        </scoringEntries>
      </scorer>
      <tokenizer whiteSpaceDefinition="[:white:]">
        <types>
          <tokenType tokenStartCharacters="[:letter:]" tokenCharacters="[:letter:]"/>
          <tokenType tokenStartCharacters="[:digit:]" tokenCharacters="[:digit:]"/>
        </types>
      </tokenizer>
      <comm:comment>Apply STREET replacements to unidentified addresses. Both abbreviation and typos are included. The goal is to replace unidentified part of input street value to some standard value e.g.
  
NAM. -&gt; náměstí

NAN -&gt; náměstí
NEMOC. -&gt; nemocnice

PLUK. -&gt; plk.


PODHR. -&gt; podhradí

PROFESORA -&gt; prof.</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Apply full street replacements - street (Apply Replacements)" image="images/ApplyReplacementsAlgorithm.large.png" class="com.ataccama.dqc.tasks.clean.ApplyReplacementsAlgorithm">
    <properties replacementsFileName="pathvar://DATA/ext/lkp/cz_address_identifier/cz_address_id_street_full.lkp" preserveUnsupportedChars="true" onlyFullReplacement="false" in="pur_street" out="pur_street">
      <scorer explanationColumn="exp_address" scoreColumn="sco_address">
        <scoringEntries>
          <scoringEntry score="10" explainAs="STREET_REPL_FULL" explain="true" key="AR_CHANGED"/>
          <scoringEntry score="0" explainAs="AR_MORE" explain="false" key="AR_MORE"/>
          <scoringEntry score="0" explainAs="AR_MULTI" explain="false" key="AR_MULTI"/>
          <scoringEntry score="0" explainAs="AR_NULL" explain="false" key="AR_NULL"/>
        </scoringEntries>
      </scorer>
      <tokenizer whiteSpaceDefinition="[:white:]">
        <types>
          <tokenType tokenStartCharacters="[:letter:]" tokenCharacters="[:letter:]"/>
          <tokenType tokenStartCharacters="[:digit:]" tokenCharacters="[:digit:]"/>
        </types>
      </tokenizer>
      <comm:comment>Apply FULL STREET replacements to unidentified addresses. Both abbreviation and typos are included. The goal is to replace unidentified street name to some standard value e.g.
  
NAMESTI WINSTCHURCHILLA -&gt; NÁMĚSTÍ WINSTONA CHURCHILLA

NAMESTI ZBRASLAVSKE -&gt; ZBRASLAVSKÉ NÁMĚSTÍ

NIK TESLY -&gt; NIKOLY TESLY

NOR FRYDA -&gt; NORBERTA FRÝDA</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Apply full city replacements - street (Apply Replacements)" image="images/ApplyReplacementsAlgorithm.large.png" class="com.ataccama.dqc.tasks.clean.ApplyReplacementsAlgorithm">
    <properties replacementsFileName="pathvar://DATA/ext/lkp/cz_address_identifier/cz_address_id_city_full.lkp" preserveUnsupportedChars="true" whenCondition="indexOf(exp_address, &#39;STREET_REPL&#39;) is null" onlyFullReplacement="false" in="pur_street" out="pur_street">
      <scorer explanationColumn="exp_address" scoreColumn="sco_address">
        <scoringEntries>
          <scoringEntry score="10" explainAs="STREET_REPL_CITY_FULL" explain="true" key="AR_CHANGED"/>
          <scoringEntry score="0" explainAs="AR_MORE" explain="false" key="AR_MORE"/>
          <scoringEntry score="0" explainAs="AR_MULTI" explain="false" key="AR_MULTI"/>
          <scoringEntry score="0" explainAs="AR_NULL" explain="false" key="AR_NULL"/>
        </scoringEntries>
      </scorer>
      <tokenizer whiteSpaceDefinition="[:white:]">
        <types>
          <tokenType tokenStartCharacters="[:letter:]" tokenCharacters="[:letter:]"/>
          <tokenType tokenStartCharacters="[:digit:]" tokenCharacters="[:digit:]"/>
        </types>
      </tokenizer>
      <comm:comment>If street replacement was not applied, let&#39;s try to use city replacement (there might be a city in the street value)

/LZEN -&gt; Plzeň

3 DVORY -&gt; Tři Dvory

ALBRECHT V JIZ HORACH -&gt; Albrechtice v Jizerských horách</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Apply full city replacements - city (Apply Replacements)" image="images/ApplyReplacementsAlgorithm.large.png" class="com.ataccama.dqc.tasks.clean.ApplyReplacementsAlgorithm">
    <properties replacementsFileName="pathvar://DATA/ext/lkp/cz_address_identifier/cz_address_id_city_full.lkp" preserveUnsupportedChars="true" onlyFullReplacement="false" in="pur_city" out="pur_city">
      <scorer explanationColumn="exp_address" scoreColumn="sco_address">
        <scoringEntries>
          <scoringEntry score="10" explainAs="CITY_REPL_FULL" explain="true" key="AR_CHANGED"/>
          <scoringEntry score="0" explainAs="AR_MORE" explain="false" key="AR_MORE"/>
          <scoringEntry score="0" explainAs="AR_MULTI" explain="false" key="AR_MULTI"/>
          <scoringEntry score="0" explainAs="AR_NULL" explain="false" key="AR_NULL"/>
        </scoringEntries>
      </scorer>
      <tokenizer whiteSpaceDefinition="[:white:]">
        <types>
          <tokenType tokenStartCharacters="[:letter:]" tokenCharacters="[:letter:]"/>
          <tokenType tokenStartCharacters="[:digit:]" tokenCharacters="[:digit:]"/>
        </types>
      </tokenizer>
      <comm:comment>Apply FULL CITY replacements to unidentified addresses. Both abbreviation and typos are included. The goal is to replace unidentified city name to some standard value e.g.
Same lkp file as in previous step used / cz_address_id_city_full.lkp

/LZEN -&gt; Plzeň

3 DVORY -&gt; Tři Dvory

ALBRECHT V JIZ HORACH -&gt; Albrechtice v Jizerských horách</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Parse address (UIR-ADR) 2 (Address Identifier)" image="images/AddressIdentifier.large.png" class="com.ataccama.dqc.tasks.addresses.AddressIdentifier">
    <properties numApproxMatches="0" configFile="pathvar://DATA/ext/lkp/cz_address_identifier/address-cfg.xml" parserRuleName="pat_address" analyzedAddressLayout="{pur_zip} ;  {pur_city} ; {pur_street} ">
      <ambiguityScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL" explain="true" key="AI_AMBIG_CL"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL_CD" explain="true" key="AI_AMBIG_CL_CD"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL_ZCD" explain="true" key="AI_AMBIG_CL_ZCD"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CS_N" explain="true" key="AI_AMBIG_CS_N"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_SN_Q" explain="true" key="AI_AMBIG_SN_Q"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCD_L" explain="true" key="AI_AMBIG_ZCD_L"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCS_L" explain="true" key="AI_AMBIG_ZCS_L"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCS_N" explain="true" key="AI_AMBIG_ZCS_N"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZC_L" explain="true" key="AI_AMBIG_ZC_L"/>
        </scoringEntries>
      </ambiguityScorer>
      <attributeScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="0" explainAs="ADDR_AI_CD" explain="false" key="AI_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY" explain="false" key="AI_CITY"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_CD" explain="false" key="AI_CITY_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_CD_STREET" explain="false" key="AI_CITY_CD_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_LRN" explain="false" key="AI_CITY_LRN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_STREET" explain="false" key="AI_CITY_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_STREET_SN" explain="false" key="AI_CITY_STREET_SN"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_ID_MISMATCH" explain="true" key="AI_ID_MISMATCH"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN" explain="false" key="AI_LRN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_NOT_VERIFIED" explain="false" key="AI_NOT_VERIFIED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_NO_ADDRESS" explain="false" key="AI_NO_ADDRESS"/>
          <scoringEntry score="750000" explainAs="ADDR_AI_NO_ADDRESS_ID" explain="true" key="AI_NO_ADDRESS_ID"/>
          <scoringEntry score="5000000" explainAs="ADDR_AI_NO_PATTERN" explain="true" key="AI_NO_PATTERN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC" explain="false" key="AI_PC"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY" explain="false" key="AI_PC_CITY"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY_CD" explain="false" key="AI_PC_CITY_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY_STREET" explain="false" key="AI_PC_CITY_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_SN" explain="false" key="AI_SN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET" explain="false" key="AI_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_SN" explain="false" key="AI_STREET_SN"/>
          <scoringEntry score="100" explainAs="ADDR_AI_SWAP_LRN_SN" explain="true" key="AI_SWAP_LRN_SN"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_UNDECIDED_LRN_SN" explain="true" key="AI_UNDECIDED_LRN_SN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CD_SUFFIX" explain="false" key="AI_CD_SUFFIX"/>
          <scoringEntry score="0" explainAs="ADDR_AI_EVN" explain="true" key="AI_EVN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN_OR_EVN" explain="false" key="AI_LRN_OR_EVN"/>
        </scoringEntries>
      </attributeScorer>
      <outputComponents streetClean="std_street" localityPartClean="std_city_district" localityClean="std_city" landRegistryNumberClean="std_lrn" cityPartClean="std_city_part" streetNumberClean="std_sn" postOfficeClean="std_post_office" districtClean="std_district" addressId="std_address_code" regionClean="std_region" postalCodeClean="std_zip"/>
      <parserScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_RPL_FULL" explain="false" key="AI_CITY_PART_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_RPL_FULL" explain="false" key="AI_DISTRICT_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_RPL_PART" explain="false" key="AI_CITY_PART_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_RPL_PART" explain="false" key="AI_DISTRICT_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_RPL_FULL" explain="false" key="AI_LOCALITY_PART_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_RPL_PART" explain="false" key="AI_LOCALITY_PART_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_RPL_FULL" explain="false" key="AI_LOCALITY_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_RPL_PART" explain="false" key="AI_LOCALITY_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_RPL_FULL" explain="false" key="AI_POST_OFFICE_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_RPL_PART" explain="false" key="AI_POST_OFFICE_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_RPL_FULL" explain="false" key="AI_STREET_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_RPL_PART" explain="false" key="AI_STREET_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_RPL_FULL" explain="false" key="AI_ZIP_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_RPL_PART" explain="false" key="AI_ZIP_REPL_PART"/>
        </scoringEntries>
      </parserScorer>
      <scorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="1000" explainAs="ADDR_AI_DISTRICT_CHANGED" explain="true" key="AI_DISTRICT_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_NULL" explain="false" key="AI_DISTRICT_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_SET" explain="true" key="AI_DISTRICT_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_CITY_CHANGED" explain="true" key="AI_LOCALITY_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_NULL" explain="false" key="AI_LOCALITY_NULL"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_CITY_DISTRICT_CHANGED" explain="true" key="AI_LOCALITY_PART_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_NULL" explain="false" key="AI_LOCALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_SET" explain="true" key="AI_LOCALITY_PART_SET"/>
          <scoringEntry score="100" explainAs="ADDR_AI_CITY_SET" explain="true" key="AI_LOCALITY_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_LRN_CHANGED" explain="true" key="AI_LRN_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN_NULL" explain="false" key="AI_LRN_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_LRN_SET" explain="true" key="AI_LRN_SET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_CHANGED" explain="false" key="AI_MUNICIPALITY_PART_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_NULL" explain="false" key="AI_MUNICIPALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_SET" explain="false" key="AI_MUNICIPALITY_PART_SET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_CHANGED" explain="false" key="AI_POST_OFFICE_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_NULL" explain="false" key="AI_POST_OFFICE_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_SET" explain="false" key="AI_POST_OFFICE_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_SN_CHANGED" explain="true" key="AI_SN_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_SN_NULL" explain="false" key="AI_SN_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_SN_SET" explain="true" key="AI_SN_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_CHANGED" explain="true" key="AI_STREET_CHANGED"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_MISSING" explain="true" key="AI_STREET_MISSING"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_NULL" explain="false" key="AI_STREET_NULL"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_SET" explain="true" key="AI_STREET_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_SURPLUS" explain="true" key="AI_STREET_SURPLUS"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_ZIP_CHANGED" explain="true" key="AI_ZIP_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_NULL" explain="false" key="AI_ZIP_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_ZIP_SET" explain="true" key="AI_ZIP_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_LRN_TYPE_CHANGED" explain="true" key="AI_LRN_TYPE_CHANGED"/>
        </scoringEntries>
      </scorer>
      <comm:comment>Second address identification after applying replacements using limited set of patterns - address-cfg.xml (most common patterns)</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Address not parsed 2 (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="pat_address is null">
      <comm:comment>Address not parsed for the second time: let&#39;s try to parse with excessive number of address patterns.
Address parsed but not identified: probably there is an ambiguity in the combination of numbers and/or city+street etc. - we cannot do much better here..</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Use extended patterns (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="true"/>
  </configAlg>
  <configAlg name="Reset tmp scoring 3 (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="0" column="tmp_sco_address">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
        <assignment expression="null" column="tmp_exp_address">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
      </assignments>
      <comm:comment>reset temporary columns used for the next address identification</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Parse address (UIR-ADR) 3 (Address Identifier)" image="images/AddressIdentifier.large.png" class="com.ataccama.dqc.tasks.addresses.AddressIdentifier">
    <properties numApproxMatches="0" configFile="pathvar://DATA/ext/lkp/cz_address_identifier/address-cfg_2.xml" parserRuleName="pat_address" analyzedAddressLayout="{pur_zip} ;  {pur_city} ; {pur_street} ">
      <ambiguityScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL" explain="true" key="AI_AMBIG_CL"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL_CD" explain="true" key="AI_AMBIG_CL_CD"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CL_ZCD" explain="true" key="AI_AMBIG_CL_ZCD"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_CS_N" explain="true" key="AI_AMBIG_CS_N"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_SN_Q" explain="true" key="AI_AMBIG_SN_Q"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCD_L" explain="true" key="AI_AMBIG_ZCD_L"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCS_L" explain="true" key="AI_AMBIG_ZCS_L"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZCS_N" explain="true" key="AI_AMBIG_ZCS_N"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_AMBIG_ZC_L" explain="true" key="AI_AMBIG_ZC_L"/>
        </scoringEntries>
      </ambiguityScorer>
      <attributeScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="0" explainAs="ADDR_AI_CD" explain="false" key="AI_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY" explain="false" key="AI_CITY"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_CD" explain="false" key="AI_CITY_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_CD_STREET" explain="false" key="AI_CITY_CD_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_LRN" explain="false" key="AI_CITY_LRN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_STREET" explain="false" key="AI_CITY_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_STREET_SN" explain="false" key="AI_CITY_STREET_SN"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_ID_MISMATCH" explain="true" key="AI_ID_MISMATCH"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN" explain="false" key="AI_LRN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_NOT_VERIFIED" explain="false" key="AI_NOT_VERIFIED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_NO_ADDRESS" explain="false" key="AI_NO_ADDRESS"/>
          <scoringEntry score="750000" explainAs="ADDR_AI_NO_ADDRESS_ID" explain="true" key="AI_NO_ADDRESS_ID"/>
          <scoringEntry score="5000000" explainAs="ADDR_AI_NO_PATTERN" explain="true" key="AI_NO_PATTERN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC" explain="false" key="AI_PC"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY" explain="false" key="AI_PC_CITY"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY_CD" explain="false" key="AI_PC_CITY_CD"/>
          <scoringEntry score="0" explainAs="ADDR_AI_PC_CITY_STREET" explain="false" key="AI_PC_CITY_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_SN" explain="false" key="AI_SN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET" explain="false" key="AI_STREET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_SN" explain="false" key="AI_STREET_SN"/>
          <scoringEntry score="100" explainAs="ADDR_AI_SWAP_LRN_SN" explain="true" key="AI_SWAP_LRN_SN"/>
          <scoringEntry score="500000" explainAs="ADDR_AI_UNDECIDED_LRN_SN" explain="true" key="AI_UNDECIDED_LRN_SN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CD_SUFFIX" explain="false" key="AI_CD_SUFFIX"/>
          <scoringEntry score="0" explainAs="ADDR_AI_EVN" explain="true" key="AI_EVN"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN_OR_EVN" explain="false" key="AI_LRN_OR_EVN"/>
        </scoringEntries>
      </attributeScorer>
      <outputComponents streetClean="std_street" localityPartClean="std_city_district" localityClean="std_city" landRegistryNumberClean="std_lrn" cityPartClean="std_city_part" streetNumberClean="std_sn" postOfficeClean="std_post_office" districtClean="std_district" addressId="std_address_code" regionClean="std_region" postalCodeClean="std_zip"/>
      <parserScorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_RPL_FULL" explain="false" key="AI_CITY_PART_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_RPL_FULL" explain="false" key="AI_DISTRICT_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_RPL_PART" explain="false" key="AI_CITY_PART_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_RPL_PART" explain="false" key="AI_DISTRICT_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_RPL_FULL" explain="false" key="AI_LOCALITY_PART_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_RPL_PART" explain="false" key="AI_LOCALITY_PART_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_RPL_FULL" explain="false" key="AI_LOCALITY_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_RPL_PART" explain="false" key="AI_LOCALITY_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_RPL_FULL" explain="false" key="AI_POST_OFFICE_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_RPL_PART" explain="false" key="AI_POST_OFFICE_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_RPL_FULL" explain="false" key="AI_STREET_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_RPL_PART" explain="false" key="AI_STREET_REPL_PART"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_RPL_FULL" explain="false" key="AI_ZIP_REPL_FULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_RPL_PART" explain="false" key="AI_ZIP_REPL_PART"/>
        </scoringEntries>
      </parserScorer>
      <scorer explanationColumn="tmp_exp_address" scoreColumn="tmp_sco_address">
        <scoringEntries>
          <scoringEntry score="1000" explainAs="ADDR_AI_DISTRICT_CHANGED" explain="true" key="AI_DISTRICT_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_NULL" explain="false" key="AI_DISTRICT_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_DISTRICT_SET" explain="true" key="AI_DISTRICT_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_CITY_CHANGED" explain="true" key="AI_LOCALITY_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_NULL" explain="false" key="AI_LOCALITY_NULL"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_CITY_DISTRICT_CHANGED" explain="true" key="AI_LOCALITY_PART_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_NULL" explain="false" key="AI_LOCALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_DISTRICT_SET" explain="true" key="AI_LOCALITY_PART_SET"/>
          <scoringEntry score="100" explainAs="ADDR_AI_CITY_SET" explain="true" key="AI_LOCALITY_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_LRN_CHANGED" explain="true" key="AI_LRN_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_LRN_NULL" explain="false" key="AI_LRN_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_LRN_SET" explain="true" key="AI_LRN_SET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_CHANGED" explain="false" key="AI_MUNICIPALITY_PART_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_NULL" explain="false" key="AI_MUNICIPALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_CITY_PART_SET" explain="false" key="AI_MUNICIPALITY_PART_SET"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_CHANGED" explain="false" key="AI_POST_OFFICE_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_NULL" explain="false" key="AI_POST_OFFICE_NULL"/>
          <scoringEntry score="0" explainAs="ADDR_AI_POST_OFFICE_SET" explain="false" key="AI_POST_OFFICE_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_SN_CHANGED" explain="true" key="AI_SN_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_SN_NULL" explain="false" key="AI_SN_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_SN_SET" explain="true" key="AI_SN_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_CHANGED" explain="true" key="AI_STREET_CHANGED"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_MISSING" explain="true" key="AI_STREET_MISSING"/>
          <scoringEntry score="0" explainAs="ADDR_AI_STREET_NULL" explain="false" key="AI_STREET_NULL"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_SET" explain="true" key="AI_STREET_SET"/>
          <scoringEntry score="10000" explainAs="ADDR_AI_STREET_SURPLUS" explain="true" key="AI_STREET_SURPLUS"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_ZIP_CHANGED" explain="true" key="AI_ZIP_CHANGED"/>
          <scoringEntry score="0" explainAs="ADDR_AI_ZIP_NULL" explain="false" key="AI_ZIP_NULL"/>
          <scoringEntry score="100" explainAs="ADDR_AI_ZIP_SET" explain="true" key="AI_ZIP_SET"/>
          <scoringEntry score="1000" explainAs="ADDR_AI_LRN_TYPE_CHANGED" explain="true" key="AI_LRN_TYPE_CHANGED"/>
        </scoringEntries>
      </scorer>
      <comm:comment>Third address identification of unidentified addresses after applying replacements using full set of patterns - address-cfg_2.xml</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Union all addresses (Union Same)" image="images/UnionSame.large.png" class="com.ataccama.dqc.tasks.conditions.UnionSame">
    <properties>
      <comm:comment>Union all address records:
- empty input records
- addresses identified within the first AI
- addresses identified within the second AI
- addresses identified within the third AI
- not identified addresses</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Add temporary and other scoring (Simple Scoring)" image="images/SimpleScoring.large.png" class="com.ataccama.dqc.tasks.scoring.SimpleScoring">
    <properties defaultScoreColumn="sco_address" defaultExplainColumn="exp_address">
      <scoringCases>
        <scoringCase description="Type of land registry number has changed. It either has been parsed as evidence number (číslo evidenční) and should have been a house number (číslo popisné) or vice versa." explanation="&#39;ADDR_AI_LRN_TYPE_CHANGED&#39; " score="1000">
          <condition>indexOf(exp_address, &#39;ADDR_AI_EVN&#39;) is not null //address identifer indicates evn
and
indexOf(exp_address, &#39;NUM_EVN_DETECTED&#39;) is null //evn was not labeled in the input
and 
indexOf(exp_address, &#39;ADDR_AI_LRN_TYPE_CHANGED&#39;) is null //address identifier does not report change from lrn to evn</condition>
        </scoringCase>
        <scoringCase condition="tmp_exp_address is not null" explanation="tmp_exp_address" score="tmp_sco_address"/>
      </scoringCases>
      <comm:comment>Adds scoring from temporary scoring values.</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Set address labels (Simple Scoring)" image="images/SimpleScoring.large.png" class="com.ataccama.dqc.tasks.scoring.SimpleScoring">
    <properties defaultScoreColumn="sco_address" defaultExplainColumn="lbl_address">
      <scoringCases>
        <scoringCase condition="std_address_code is not NULL and sco_address = 0" description="No or minimal correction was done to the input value. DQ score is 0. The result address is valid." explanation="&quot;VALID&quot;" score="0"/>
        <scoringCase condition="std_address_code is not NULL and sco_address &gt; 0 and sco_address &lt; 10000" description="Small correction was done to the input value. DQ score is greater than 0 and less than 10 000. The result address is valid-corrected." explanation="&quot;CORRECTED_MINOR&quot;" score="0"/>
        <scoringCase condition="std_address_code is not NULL and sco_address &gt;= 10000 and sco_address &lt; 1000000" description="Unsafe value. Address code was identified, but huge modification was done to the input value and resulting value can no longer be considered valid, for example change of street name or adding a street even it was not found on input. The result address is unsafe." explanation="&quot;CORRECTED_MAJOR&quot;" score="0"/>
        <scoringCase condition="std_address_code is NULL and pat_address is not null" description="Unknown value. No correction was able to help identify the address. Address code was not identified but at least input address was parsed." explanation="&quot;UNKNOWN&quot;" score="0"/>
        <scoringCase condition="std_address_code is NULL and pat_address is null" description="Unknown value. No correction was able to help identify the address. Address was neither identified nor parsed." explanation="&quot;UNKNOWN&quot;" score="0"/>
      </scoringCases>
      <comm:comment>Set labels based on DQ score and output values.</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Address not identified (Condition)" image="images/Condition.large.png" class="com.ataccama.dqc.tasks.conditions.Condition">
    <properties condition="std_address_code is null"/>
  </configAlg>
  <configAlg name="Output values (addr. not identified) (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="in_address_line_1" column="out_address_line_1">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
        </assignment>
        <assignment expression="in_address_line_2" column="out_address_line_2">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
        </assignment>
        <assignment expression="in_address_line_3" column="out_address_line_3">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
        </assignment>
      </assignments>
      <comm:comment>Set output (best available) values</comm:comment>
    </properties>
  </configAlg>
  <configAlg name="Output values (addr. identified) (Create Postal Address CZ)" image="images/CreatePostalAddress.large.png" class="com.ataccama.dqc.tasks.addresses.CreatePostalAddress">
    <properties middleRow="out_address_line_2" topRow="out_address_line_1" dataFolder="pathvar://DATA/ext/lkp/cz_address_identifier/ai" bottomRow="out_address_line_3" addressId="std_address_code" mode="UIR_ADR">
      <scorer>
        <scoringEntries>
          <scoringEntry score="0" explainAs="CPA_ADDR_ID_NULL" explain="false" key="CPA_ADDR_ID_NULL"/>
          <scoringEntry score="0" explainAs="CPA_INVALID_ADDR_ID" explain="false" key="CPA_INVALID_ADDR_ID"/>
          <scoringEntry score="0" explainAs="CPA_LOCALITY_NULL" explain="false" key="CPA_LOCALITY_NULL"/>
          <scoringEntry score="0" explainAs="CPA_LOCALITY_PART_NULL" explain="false" key="CPA_LOCALITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="CPA_STREET_NULL" explain="false" key="CPA_STREET_NULL"/>
          <scoringEntry score="0" explainAs="CPA_LRN_NULL" explain="false" key="CPA_LRN_NULL"/>
          <scoringEntry score="0" explainAs="CPA_SN_NULL" explain="false" key="CPA_SN_NULL"/>
          <scoringEntry score="0" explainAs="CPA_ZIP_NULL" explain="false" key="CPA_ZIP_NULL"/>
          <scoringEntry score="0" explainAs="CPA_POST_OFFICE_NULL" explain="false" key="CPA_POST_OFFICE_NULL"/>
          <scoringEntry score="0" explainAs="CPA_CITY_PART_NULL" explain="false" key="CPA_CITY_PART_NULL"/>
          <scoringEntry score="0" explainAs="CPA_CADASTRAL_AREA_NULL" explain="false" key="CPA_CADASTRAL_AREA_NULL"/>
          <scoringEntry score="0" explainAs="CPA_DISTRICT_OF_PRAGUE_NULL" explain="false" key="CPA_DISTRICT_OF_PRAGUE_NULL"/>
          <scoringEntry score="0" explainAs="CPA_CANNOT_GENERATE" explain="false" key="CPA_CANNOT_GENERATE"/>
        </scoringEntries>
      </scorer>
    </properties>
  </configAlg>
  <configAlg name="Union all output values (Union Same)" image="images/UnionSame.large.png" class="com.ataccama.dqc.tasks.conditions.UnionSame">
    <properties/>
  </configAlg>
  <configAlg name="Assign evidence number (Column Assigner)" image="images/ColumnAssigner.large.png" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="iif(std_address_code is not null and indexOf(exp_address, &#39;ADDR_AI_EVN&#39;) is not null, std_lrn, null)" column="std_evn">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
        </assignment>
        <assignment expression="iif(std_evn is not null, substituteAll(&quot;\\b([0-9]+(/[0-9a-z]+)?)$&quot;, &quot;č. ev. $1&quot;, out_address_line_1, true), out_address_line_1)" column="out_address_line_1">
          <scorer>
            <scoringEntries/>
          </scorer>
          <comm:comment>Where evidentiary number was detected, this assignment generates a standard evn prefix: &quot;Pavlíkov 14&quot; =&gt; &quot;Pavlíkov č. ev. 14&quot;</comm:comment>
        </assignment>
        <assignment expression="iif(std_evn is not null, null, std_lrn)" column="std_lrn">
          <scorer>
            <scoringEntries>
              <scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
            </scoringEntries>
          </scorer>
          <comm:comment>when std_evn detected, std_lrn should be empty</comm:comment>
        </assignment>
      </assignments>
    </properties>
  </configAlg>
  <configAlg name="Remove columns (Alter Format)" image="images/AlterFormat.large.png" class="com.ataccama.dqc.tasks.flow.AlterFormat">
    <properties>
      <addedColumns/>
      <removedColumns>
        <columnRef name="pur_street"/>
        <columnRef name="pur_city"/>
        <columnRef name="pur_zip"/>
        <columnRef name="tmp_sco_address"/>
        <columnRef name="tmp_exp_address"/>
        <columnRef name="tmp_street"/>
        <columnRef name="tmp_city"/>
        <columnRef name="use_extended_patterns"/>
      </removedColumns>
    </properties>
  </configAlg>
  <configAlg name="out (Integration Output)" image="images/OutputStep.large.png" class="com.ataccama.dqc.tasks.common.usersteps.io.OutputStep">
    <properties>
      <requiredColumns>
        <requiredColumn name="out_address_line_1" type="STRING">
          <comm:comment>Best existing value of the first address line. For identified addresses it includes street or city district or city part followed by a number or a combination of numbers (lrn, sn, evn). For unidentified addresses it is a copy of the input first address line.</comm:comment>
        </requiredColumn>
        <requiredColumn name="out_address_line_2" type="STRING">
          <comm:comment>Best existing value of the second address line. For identified addresses it includes city or city district or city part or a combination of these followed by a number (if applicable). For unidentified addresses it is a copy of the input first address line.</comm:comment>
        </requiredColumn>
        <requiredColumn name="out_address_line_3" type="STRING">
          <comm:comment>Best existing value of the third address line. For identified addresses it includes postal code and post office. For unidentified addresses it is a copy of the input first address line.</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_address_code" type="STRING">
          <comm:comment>Standardized adress code (in Czech &quot;adresní kód&quot;).</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_zip" type="STRING">
          <comm:comment>Standardized zip code (in Czech &quot;PSČ&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_city" type="STRING">
          <comm:comment>Standardized city (in Czech &quot;město&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_city_district" type="STRING">
          <comm:comment>Standardized city district (in Czech &quot;část obce&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_city_part" type="STRING">
          <comm:comment>Standardized city part (in Czech &quot;městská část&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_street" type="STRING">
          <comm:comment>Standardized street (in Czech &quot;ulice&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_lrn" type="STRING">
          <comm:comment>Standardized land registry number (in Czech &quot;popisné číslo&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_sn" type="STRING">
          <comm:comment>Standardized street number (in Czech &quot;orientační číslo&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_evn" type="STRING">
          <comm:comment>Standardized evidentiary number (in Czech &quot;evidenční číslo&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_district" type="STRING">
          <comm:comment>Standardized district (in Czech &quot;okres&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_post_office" type="STRING">
          <comm:comment>Standardized post office (in Czech &quot;pošta&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="std_region" type="STRING">
          <comm:comment>Standardized region (in Czech &quot;kraj&quot;)</comm:comment>
        </requiredColumn>
        <requiredColumn name="sco_address" type="INTEGER">
          <comm:comment>Data quality score of address</comm:comment>
        </requiredColumn>
        <requiredColumn name="exp_address" type="STRING">
          <comm:comment>Explanation codes of data quality problems in address</comm:comment>
        </requiredColumn>
        <requiredColumn name="lbl_address" type="STRING">
          <comm:comment>Output value of address validity label. Indicates whether the address is valid, corrected or unknown.</comm:comment>
        </requiredColumn>
        <requiredColumn name="pat_address" type="STRING">
          <comm:comment>Pattern of parsed address</comm:comment>
        </requiredColumn>
      </requiredColumns>
    </properties>
  </configAlg>
</configDoc>