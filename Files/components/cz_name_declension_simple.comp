<?xml version='1.0' encoding='UTF-8'?>
<purity-config xmlns:comm="http://www.ataccama.com/purity/comment" version="10.5.0.ga-2016-06-24">
	<component-id>name_declension</component-id>
	<icon type="5">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</icon>
	<references/>
	<component-mappings>
		<propertyMappings/>
	</component-mappings>

<!-- (Add Columns) --><step id="Add Columns" className="com.ataccama.dqc.tasks.flow.AlterFormat" disabled="false" mode="NORMAL">
		<properties>
			<addedColumns>
				<addedColumn name="out_fn_accusative" type="STRING">
					<comm:comment>First name in acccusative</comm:comment>
				</addedColumn>
				<addedColumn name="out_fn_vocative" type="STRING">
					<comm:comment>First name in vocative</comm:comment>
				</addedColumn>
				<addedColumn name="out_mn_accusative" type="STRING">
					<comm:comment>Middle name in accusative</comm:comment>
				</addedColumn>
				<addedColumn name="out_mn_vocative" type="STRING">
					<comm:comment>Middle name in vocative</comm:comment>
				</addedColumn>
				<addedColumn name="out_ln_accusative" type="STRING">
					<comm:comment>Last name in accusative</comm:comment>
				</addedColumn>
				<addedColumn name="out_ln_vocative" type="STRING">
					<comm:comment>Last name in vocative</comm:comment>
				</addedColumn>
				<addedColumn name="exp_declension" type="STRING">
					<comm:comment>Explains, why some (all) name parts were not declined</comm:comment>
				</addedColumn>
				<addedColumn name="sco_declension" type="INTEGER">
					<comm:comment>Score of input values</comm:comment>
				</addedColumn>
			</addedColumns>
			<removedColumns/>
		</properties>
		<visual-constraints bounds="144,0,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Add Columns" endpoint="out"/>
		<target step="Add Internal Columns" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Add Internal Columns) --><step id="Add Internal Columns" className="com.ataccama.dqc.tasks.flow.AlterFormat" disabled="false" mode="NORMAL">
		<properties>
			<addedColumns>
				<addedColumn name="pur_gender" type="STRING"/>
				<addedColumn name="pur_first_name" type="STRING"/>
				<addedColumn name="pur_middle_name" type="STRING"/>
				<addedColumn name="pur_last_name" type="STRING"/>
				<addedColumn name="pur_ln_no_declension_parts" type="STRING"/>
				<addedColumn name="pur_ln_last_part" type="STRING"/>
				<addedColumn name="out_ln_last_part_vocative" type="STRING"/>
				<addedColumn name="out_ln_last_part_accusative" type="STRING"/>
				<addedColumn name="flg_fn_invalid" type="BOOLEAN"/>
				<addedColumn name="flg_mn_invalid" type="BOOLEAN"/>
				<addedColumn name="flg_ln_invalid" type="BOOLEAN"/>
			</addedColumns>
			<removedColumns/>
			<comm:comment>Add Internal Columns</comm:comment>
		</properties>
		<visual-constraints bounds="360,48,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Add Internal Columns" endpoint="out"/>
		<target step="Decode values" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Check invalidity) --><step id="Check invalidity" className="com.ataccama.dqc.tasks.expressions.ColumnAssigner" disabled="false" mode="NORMAL">
		<properties>
			<assignments>
				<assignment expression="trashNonLetters(pur_first_name) != pur_first_name" column="flg_fn_invalid">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="trashNonLetters(pur_middle_name) != pur_middle_name" column="flg_mn_invalid">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment column="flg_ln_invalid">
					<expression>//trashNonLetters(pur_last_name) != pur_last_name
pur_ln_last_part is null and pur_last_name is not null</expression>
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
			</assignments>
			<comm:comment>Check for invalid characters</comm:comment>
		</properties>
		<visual-constraints bounds="360,432,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Check invalidity" endpoint="out"/>
		<target step="Gender M" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Concatenate last name parts) --><step id="Concatenate last name parts" className="com.ataccama.dqc.tasks.expressions.ColumnAssigner" disabled="false" mode="NORMAL">
		<properties>
			<assignments>
				<assignment expression="replace(pur_ln_no_declension_parts + out_ln_last_part_accusative, &#39;☃&#39;, &#39; &#39;)" column="out_ln_accusative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
				<assignment expression="replace(pur_ln_no_declension_parts + out_ln_last_part_vocative, &#39;☃&#39;, &#39; &#39;)" column="out_ln_vocative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
			</assignments>
			<comm:comment>Concatenate undeclined and declined parts of last name</comm:comment>
		</properties>
		<visual-constraints bounds="360,1080,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Concatenate last name parts" endpoint="out"/>
		<target step="Remove declension if invalid flag" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decline female (last word of) last name) --><component id="Decline female (last word of) last name" disabled="false" mode="NORMAL">
		<properties fileName="internal/cz_name_declension_simple/comp_declension_female.comp">
			<mappings>
				<mappingEndPoint name="in">
					<columnMappings>
						<columnsMapping to="name" from="pur_ln_last_part"/>
					</columnMappings>
				</mappingEndPoint>
				<mappingEndPoint name="out">
					<columnMappings>
						<columnsMapping to="accusative" from="out_ln_last_part_accusative"/>
						<columnsMapping to="vocative" from="out_ln_last_part_vocative"/>
					</columnMappings>
				</mappingEndPoint>
			</mappings>
			<comm:comment>Decline female (last word of) last name</comm:comment>
			<parameters/>
		</properties>
		<visual-constraints bounds="48,792,-1,-1" layout="vertical"/>
	</component>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decline female (last word of) last name" endpoint="out"/>
		<target step="Union Same" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decline female first name) --><component id="Decline female first name" disabled="false" mode="NORMAL">
		<properties fileName="internal/cz_name_declension_simple/comp_declension_female.comp">
			<mappings>
				<mappingEndPoint name="in">
					<columnMappings>
						<columnsMapping to="name" from="pur_first_name"/>
					</columnMappings>
				</mappingEndPoint>
				<mappingEndPoint name="out">
					<columnMappings>
						<columnsMapping to="accusative" from="out_fn_accusative"/>
						<columnsMapping to="vocative" from="out_fn_vocative"/>
					</columnMappings>
				</mappingEndPoint>
			</mappings>
			<comm:comment>Decline female first name</comm:comment>
			<parameters/>
		</properties>
		<visual-constraints bounds="48,648,-1,-1" layout="vertical"/>
	</component>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decline female first name" endpoint="out"/>
		<target step="Decline female middle name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decline female middle name) --><component id="Decline female middle name" disabled="false" mode="NORMAL">
		<properties fileName="internal/cz_name_declension_simple/comp_declension_female.comp">
			<mappings>
				<mappingEndPoint name="in">
					<columnMappings>
						<columnsMapping to="name" from="pur_middle_name"/>
					</columnMappings>
				</mappingEndPoint>
				<mappingEndPoint name="out">
					<columnMappings>
						<columnsMapping to="accusative" from="out_mn_accusative"/>
						<columnsMapping to="vocative" from="out_mn_vocative"/>
					</columnMappings>
				</mappingEndPoint>
			</mappings>
			<comm:comment>Decline female middle name</comm:comment>
			<parameters/>
		</properties>
		<visual-constraints bounds="48,720,-1,-1" layout="vertical"/>
	</component>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decline female middle name" endpoint="out"/>
		<target step="Decline female (last word of) last name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decline male (last word of) last name) --><component id="Decline male (last word of) last name" disabled="false" mode="NORMAL">
		<properties fileName="internal/cz_name_declension_simple/comp_declension_male.comp">
			<mappings>
				<mappingEndPoint name="in">
					<columnMappings>
						<columnsMapping to="name" from="pur_ln_last_part"/>
					</columnMappings>
				</mappingEndPoint>
				<mappingEndPoint name="out 2">
					<columnMappings>
						<columnsMapping to="accusative" from="out_ln_last_part_accusative"/>
						<columnsMapping to="vocative" from="out_ln_last_part_vocative"/>
					</columnMappings>
				</mappingEndPoint>
			</mappings>
			<comm:comment>Decline male (last word of) last name</comm:comment>
			<parameters/>
		</properties>
		<visual-constraints bounds="672,792,-1,-1" layout="vertical"/>
	</component>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decline male (last word of) last name" endpoint="out 2"/>
		<target step="Union Same" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decline male first name) --><component id="Decline male first name" disabled="false" mode="NORMAL">
		<properties fileName="internal/cz_name_declension_simple/comp_declension_male.comp">
			<mappings>
				<mappingEndPoint name="in">
					<columnMappings>
						<columnsMapping to="name" from="pur_first_name"/>
					</columnMappings>
				</mappingEndPoint>
				<mappingEndPoint name="out 2">
					<columnMappings>
						<columnsMapping to="accusative" from="out_fn_accusative"/>
						<columnsMapping to="vocative" from="out_fn_vocative"/>
					</columnMappings>
				</mappingEndPoint>
			</mappings>
			<comm:comment>Decline male first name</comm:comment>
			<parameters/>
		</properties>
		<visual-constraints bounds="672,648,-1,-1" layout="vertical"/>
	</component>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decline male first name" endpoint="out 2"/>
		<target step="Decline male middle name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decline male middle name) --><component id="Decline male middle name" disabled="false" mode="NORMAL">
		<properties fileName="internal/cz_name_declension_simple/comp_declension_male.comp">
			<mappings>
				<mappingEndPoint name="in">
					<columnMappings>
						<columnsMapping to="name" from="pur_middle_name"/>
					</columnMappings>
				</mappingEndPoint>
				<mappingEndPoint name="out 2">
					<columnMappings>
						<columnsMapping to="accusative" from="out_mn_accusative"/>
						<columnsMapping to="vocative" from="out_mn_vocative"/>
					</columnMappings>
				</mappingEndPoint>
			</mappings>
			<comm:comment>Decline male middle name</comm:comment>
			<parameters/>
		</properties>
		<visual-constraints bounds="672,720,-1,-1" layout="vertical"/>
	</component>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decline male middle name" endpoint="out 2"/>
		<target step="Decline male (last word of) last name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Decode values) --><step id="Decode values" className="com.ataccama.dqc.tasks.expressions.ColumnAssigner" disabled="false" mode="NORMAL">
		<properties>
			<assignments>
				<assignment column="pur_gender">
					<expression>//decode(src_gender, &#39;XNA&#39;, null, src_gender)
decode(upper(src_gender), &#39;M&#39;, &#39;M&#39;, &#39;F&#39;, &#39;F&#39;, null )</expression>
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="capitalize(decode(src_first_name, &#39;XNA&#39;, null, src_first_name))" column="pur_first_name">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="capitalize(decode(src_middle_name, &#39;XNA&#39;, null, src_middle_name))" column="pur_middle_name">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="capitalize(decode(src_last_name, &#39;XNA&#39;, null, src_last_name))" column="pur_last_name">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
			</assignments>
			<comm:comment>Create pur values</comm:comment>
		</properties>
		<visual-constraints bounds="360,120,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Decode values" endpoint="out"/>
		<target step="Empty name or gender" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Empty name or gender) --><step id="Empty name or gender" className="com.ataccama.dqc.tasks.conditions.Condition" disabled="false" mode="NORMAL">
		<properties>
			<condition>(pur_first_name is null and pur_middle_name is null and pur_last_name is null)
or
pur_gender is null</condition>
			<comm:comment>Check populated gender and at least one part of the name</comm:comment>
		</properties>
		<visual-constraints bounds="360,192,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Empty name or gender" endpoint="out_false"/>
		<target step="Snowman" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Empty name or gender" endpoint="out_true"/>
		<target step="Union Same" endpoint="in"/>
		<visual-constraints>
			<bendpoints>
				<point location="1126,240"/>
				<point location="1126,936"/>
			</bendpoints>
		</visual-constraints>
	</connection>



<!-- (Gender M) --><step id="Gender M" className="com.ataccama.dqc.tasks.conditions.Condition" disabled="false" mode="NORMAL">
		<properties condition="pur_gender = &#39;M&#39;">
			<comm:comment>Male names vs. female names</comm:comment>
		</properties>
		<visual-constraints bounds="360,504,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Gender M" endpoint="out_false"/>
		<target step="Decline female first name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Gender M" endpoint="out_true"/>
		<target step="Decline male first name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Get last word of last name) --><step id="Get last word of last name" className="com.ataccama.dqc.tasks.clean.RegexMatchingAlgorithm" disabled="false" mode="NORMAL">
		<properties expression="pur_last_name" appendRegexNameColumn="false" appendRegexNameColumnSeparator=" ">
			<noMatchColumns/>
			<regExpressions>
				<regExpression pattern="([\p{L}☃-]*?)([\p{L}]*)" name="Supported chars" multiplicative="false" ignoreCase="true" partialMatch="false">
					<resultColumns>
						<regexOutputColumn name="pur_ln_no_declension_parts" substitution="$1"/>
						<regexOutputColumn name="pur_ln_last_part" substitution="$2"/>
					</resultColumns>
					<comm:comment>Devide last name in two parts:
second - last word (letters only)
first - group of letters, dashes and snowman symbols</comm:comment>
				</regExpression>
			</regExpressions>
			<scorer>
				<scoringEntries>
					<scoringEntry score="0" explainAs="STN_NULL" explain="true" key="STN_NULL"/>
					<scoringEntry score="0" explainAs="STN_MATCHED" explain="true" key="STN_MATCHED"/>
					<scoringEntry score="0" explainAs="STN_NOT_MATCHED" explain="true" key="STN_NOT_MATCHED"/>
				</scoringEntries>
			</scorer>
			<comm:comment>Devide last name in two parts:
second - last word (letters only)
first - group of letters, dashes and snowman symbols</comm:comment>
		</properties>
		<visual-constraints bounds="360,360,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Get last word of last name" endpoint="out"/>
		<target step="Check invalidity" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Only first form) --><step id="Only first form" className="com.ataccama.dqc.tasks.expressions.ColumnAssigner" disabled="false" mode="NORMAL">
		<properties>
			<assignments>
				<assignment expression="word(out_fn_accusative, 0, &#39;;&#39;)" column="out_fn_accusative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
				<assignment expression="word(out_fn_vocative, 0, &#39;;&#39;)" column="out_fn_vocative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
				<assignment expression="word(out_mn_accusative, 0, &#39;;&#39;)" column="out_mn_accusative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
				<assignment expression="word(out_mn_vocative, 0, &#39;;&#39;)" column="out_mn_vocative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
				<assignment expression="word(out_ln_last_part_accusative, 0, &#39;;&#39;)" column="out_ln_last_part_accusative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
				<assignment expression="word(out_ln_last_part_vocative, 0, &#39;;&#39;)" column="out_ln_last_part_vocative">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
			</assignments>
		</properties>
		<visual-constraints bounds="360,1008,48,48" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Only first form" endpoint="out"/>
		<target step="Concatenate last name parts" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Remove declension if invalid flag) --><step id="Remove declension if invalid flag" className="com.ataccama.dqc.tasks.expressions.ColumnAssigner" disabled="false" mode="NORMAL">
		<properties>
			<assignments>
				<assignment expression="iif(flg_fn_invalid, &quot;&quot;, out_fn_accusative)" column="out_fn_accusative">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="iif(flg_mn_invalid, &quot;&quot;, out_mn_accusative)" column="out_mn_accusative">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="iif(flg_ln_invalid, &quot;&quot;, out_ln_accusative)" column="out_ln_accusative">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="iif(flg_fn_invalid, &quot;&quot;, out_fn_vocative)" column="out_fn_vocative">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="iif(flg_mn_invalid, &quot;&quot;, out_mn_vocative)" column="out_mn_vocative">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
				<assignment expression="iif(flg_ln_invalid, &quot;&quot;, out_ln_vocative)" column="out_ln_vocative">
					<scorer>
						<scoringEntries>
							<scoringEntry score="0" explainAs="CA_CHANGED" explain="false" key="CA_CHANGED"/>
						</scoringEntries>
					</scorer>
				</assignment>
			</assignments>
			<comm:comment>Remove declension (Accusative and Vocative) if invalid flag</comm:comment>
		</properties>
		<visual-constraints bounds="360,1152,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Remove declension if invalid flag" endpoint="out"/>
		<target step="Score input values" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Remove internal columns) --><step id="Remove internal columns" className="com.ataccama.dqc.tasks.flow.AlterFormat" disabled="false" mode="NORMAL">
		<properties>
			<addedColumns/>
			<removedColumns>
				<columnRef name="pur_gender"/>
				<columnRef name="pur_first_name"/>
				<columnRef name="pur_middle_name"/>
				<columnRef name="pur_last_name"/>
				<columnRef name="pur_ln_no_declension_parts"/>
				<columnRef name="pur_ln_last_part"/>
				<columnRef name="out_ln_last_part_vocative"/>
				<columnRef name="out_ln_last_part_accusative"/>
				<columnRef name="flg_fn_invalid"/>
				<columnRef name="flg_mn_invalid"/>
				<columnRef name="flg_ln_invalid"/>
				<columnRef name="src_first_name"/>
				<columnRef name="src_middle_name"/>
				<columnRef name="src_last_name"/>
				<columnRef name="src_gender"/>
			</removedColumns>
			<comm:comment>Remove internal columns</comm:comment>
		</properties>
		<visual-constraints bounds="360,1296,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Remove internal columns" endpoint="out"/>
		<target step="out" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Score input values) --><step id="Score input values" className="com.ataccama.dqc.tasks.scoring.SimpleScoring" disabled="false" mode="NORMAL">
		<properties defaultScoreColumn="sco_declension" defaultExplainColumn="exp_declension">
			<scoringCases>
				<scoringCase explanation="&#39;DECLENSION_MISSING_INPUT_PARAMS&#39;" score="10000000">
					<condition>(pur_first_name is null and pur_middle_name is null and pur_last_name is null)
or
src_gender is null</condition>
				</scoringCase>
				<scoringCase condition="src_gender is not null and pur_gender is null" explanation="&#39;DECLENSION_INVALID_GENDER&#39;" score="10000000"/>
				<scoringCase condition="flg_fn_invalid" explanation="&#39;DECLENSION_FN_INVALID&#39;" score="10000"/>
				<scoringCase condition="flg_mn_invalid" explanation="&#39;DECLENSION_MN_INVALID&#39;" score="10000"/>
				<scoringCase condition="flg_ln_invalid" explanation="&#39;DECLENSION_LN_INVALID&#39;" score="10000"/>
				<scoringCase condition="not(flg_fn_invalid) and pur_first_name is not null and out_fn_vocative is null" explanation="&#39;DECLENSION_FN_UNDECLINED&#39;" score="10000"/>
				<scoringCase condition="not(flg_mn_invalid) and pur_middle_name is not null and out_mn_vocative is null" explanation="&#39;DECLENSION_MN_UNDECLINED&#39;" score="10000"/>
				<scoringCase condition="not(flg_ln_invalid) and pur_last_name is not null and out_ln_vocative is null" explanation="&#39;DECLENSION_LN_UNDECLINED&#39;" score="10000"/>
			</scoringCases>
			<comm:comment>Score records</comm:comment>
		</properties>
		<visual-constraints bounds="360,1224,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Score input values" endpoint="out"/>
		<target step="Remove internal columns" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Snowman) --><step id="Snowman" className="com.ataccama.dqc.tasks.expressions.ColumnAssigner" disabled="false" mode="NORMAL">
		<properties>
			<assignments>
				<assignment expression="replace(pur_last_name, &#39; &#39;, &#39;☃&#39;)" column="pur_last_name">
					<scorer>
						<scoringEntries/>
					</scorer>
				</assignment>
			</assignments>
			<comm:comment>Replace spaces with snowman</comm:comment>
		</properties>
		<visual-constraints bounds="360,288,48,48" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Snowman" endpoint="out"/>
		<target step="Get last word of last name" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (Union Same) --><step id="Union Same" className="com.ataccama.dqc.tasks.conditions.UnionSame" disabled="false" mode="NORMAL">
		<properties>
			<comm:comment>Union female and male names</comm:comment>
		</properties>
		<visual-constraints bounds="360,936,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="Union Same" endpoint="out"/>
		<target step="Only first form" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (in) --><step id="in" className="com.ataccama.dqc.tasks.common.usersteps.io.InputStep" disabled="false" mode="NORMAL">
		<properties>
			<columns>
				<columnDef name="src_first_name" type="STRING">
					<comm:comment>Input first name</comm:comment>
				</columnDef>
				<columnDef name="src_middle_name" type="STRING">
					<comm:comment>Input middle name</comm:comment>
				</columnDef>
				<columnDef name="src_last_name" type="STRING">
					<comm:comment>Input last name</comm:comment>
				</columnDef>
				<columnDef name="src_gender" type="STRING">
					<comm:comment>Input gender</comm:comment>
				</columnDef>
			</columns>
			<shadowColumns/>
		</properties>
		<visual-constraints bounds="144,-72,-1,-1" layout="vertical"/>
	</step>
	<connection className="com.ataccama.dqc.model.elements.connections.StandardFlowConnection" disabled="false">
		<source step="in" endpoint="out"/>
		<target step="Add Columns" endpoint="in"/>
		<visual-constraints>
			<bendpoints/>
		</visual-constraints>
	</connection>



<!-- (out) --><step id="out" className="com.ataccama.dqc.tasks.common.usersteps.io.OutputStep" disabled="false" mode="NORMAL">
		<properties>
			<requiredColumns>
				<requiredColumn name="out_fn_accusative" type="STRING">
					<comm:comment>First name in acccusative</comm:comment>
				</requiredColumn>
				<requiredColumn name="out_fn_vocative" type="STRING">
					<comm:comment>First name in vocative</comm:comment>
				</requiredColumn>
				<requiredColumn name="out_mn_accusative" type="STRING">
					<comm:comment>Middle name in accusative</comm:comment>
				</requiredColumn>
				<requiredColumn name="out_mn_vocative" type="STRING">
					<comm:comment>Middle name in vocative</comm:comment>
				</requiredColumn>
				<requiredColumn name="out_ln_accusative" type="STRING">
					<comm:comment>Last name in accusative</comm:comment>
				</requiredColumn>
				<requiredColumn name="out_ln_vocative" type="STRING">
					<comm:comment>Last name in vocative</comm:comment>
				</requiredColumn>
				<requiredColumn name="exp_declension" type="STRING">
					<comm:comment>Explains, why some (all) name parts were not declined</comm:comment>
				</requiredColumn>
				<requiredColumn name="sco_declension" type="INTEGER">
					<comm:comment>Score of input values</comm:comment>
				</requiredColumn>
			</requiredColumns>
		</properties>
		<visual-constraints bounds="360,1368,-1,-1" layout="vertical"/>
	</step>



<modelComment bounds="661,-66,351,115" borderColor="0,0,0" backgroundColor="255,255,255" foregroundColor="51,51,51">LEGEND</modelComment>



<modelComment bounds="672,-8,330,38" borderColor="183,183,0" backgroundColor="255,255,180" foregroundColor="51,51,51">Detailed comments to solution areas - how it works.</modelComment>



<modelComment bounds="672,-42,330,38" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Comments to main solution areas.</modelComment>



<modelComment bounds="0,120,337,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Pur values (Capitalized, decoded &quot;XNA&quot;)</modelComment>



<modelComment bounds="0,192,289,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Gender must be populated and at least on part of name</modelComment>



<modelComment bounds="0,288,340,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Replace spaces with Snowman character</modelComment>



<modelComment bounds="0,360,340,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">We decline only last word of last name</modelComment>



<modelComment bounds="0,432,340,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Check if names consist only from letters.
Last word of last name is checked by previous regexp</modelComment>



<modelComment bounds="384,648,217,54" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Decline first name</modelComment>



<modelComment bounds="384,720,217,54" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Decline middle name</modelComment>



<modelComment bounds="384,792,217,54" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Decline last word of last name</modelComment>



<modelComment bounds="0,504,340,54" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Decline female names with female component
Decline male names with male compontent</modelComment>



<modelComment bounds="0,1080,340,54" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Concatenate undeclined first part with declined last
word of last name</modelComment>



<modelComment bounds="0,1152,340,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Remove Accusative and Vocative, if name was invalid</modelComment>



<modelComment bounds="0,1224,340,49" borderColor="183,183,0" backgroundColor="128,255,255" foregroundColor="51,51,51">Score records</modelComment>

</purity-config>